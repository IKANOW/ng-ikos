!function(a){var b=require("angular"),c=(require("sprintf"),require("lodash"));a.provider("NgIkos",function(){"use strict";var a;this.setBaseUrl=function(b){a=b},this.setBaseUrl("/"),this.$get=["$q","$http","$log",function(d,e,f){var g={};return g.getApiBase=function(){return a},g.resolveWithData=function(a){return c.isEmpty(a)?d.reject("Api Response is empty, cannot read data."):a.hasOwnProperty("data")?a.data:d.reject("Api Response does not contain a data object.")},g.resolveWithDataId=function(a){return c.isEmpty(a)?d.reject("Api Response is empty, cannot read data."):a.hasOwnProperty("data")?a.data.hasOwnProperty("_id")?a.data._id:d.reject("Data object does not contain an ID."):d.reject("Api Response does not contain a data object.")},g.resolveWithDataOrArray=function(a){return c.isEmpty(a)?d.reject("Api Response is empty, cannot parse."):a.hasOwnProperty("data")?a.data:[]},g.resolveWithDataOrObject=function(a){return c.isEmpty(a)?d.reject("Api Response is empty, cannot parse."):a.hasOwnProperty("data")?a.data:{}},g.resolveWithResponseMeta=function(a){return c.isEmpty(a)?d.reject("Api Response is empty, cannot read 'response'."):a.response},g.raw=function(g,h,i,j,k,l){var m=d.defer(),n={method:c.indexOf(["GET","POST","PUT","DELETE"],(g+"").toUpperCase())>-1?g:"GET",url:a+h};return b.isDefined(i)&&(n.params=i),b.isDefined(j)&&(n.data=j),l&&"GET"!=n.method&&(n.headers={"Content-Type":"undefined"==l?void 0:l}),f.debug("[NgIkos->raw] HTTP Request:",n),e(n).then(function(a){c.has(a.data,"error")&&k!==!0?m.reject(a.data.error.message||"No message from API."):m.resolve(a.data)},function(a){m.reject(a)}),m.promise},g.get=function(a,b,c){return g.raw("GET",a,b,null,c)},g.post=function(a,b,c,d,e){return g.raw("POST",a,c,b,d,e)},g.put=function(a,b,c,d,e){return g.raw("PUT",a,c,b,d,e)},g["delete"]=function(a,b,c,d,e){return g.raw("DELETE",a,c,b,d,e)},g}]}),a.factory("CrudApiService",["$q","NgIkos",function(a,b){"use strict";function c(a,b,c,d){return encodeURIComponent(a)+"/"+encodeURIComponent(b)+"/"+encodeURIComponent(c)+(d?d:"")}var d={};return d.getBaseUri=function(){return"crud/"},d.raw=function(a,c,e,f,g,h){return b.raw(a,d.getBaseUri()+c,e,f,g,h)},d.createJsonObject=function(a,b,e,f,g){return d.raw("POST",c(a,b,e,"/object"),{buckets:f},g)},d.createBucketFile=function(a,b,e,f,g){return d.raw("POST",c(a,b,e,"/file"),{buckets:f},g)},d.simpleQuery=function(a,b,e,f,g){return d.raw("GET",c(a,b,e,"/query"),{buckets:f,limit:g})},d.advancedQuery=function(a,b,e,f,g,h){return d.raw("POST",c(a,b,e,"/query"),{buckets:g,limit:h},f)},d.getById=function(a,b,e,f,g,h){return d.raw("GET",c(a,b,e,"/object/"+encodeURIComponent(f)),{buckets:g,limit:h})},d.advancedCount=function(a,b,e,f){return d.raw("GET",c(a,b,e,"/count"),{buckets:f})},d.updateJson=function(a,b,e,f,g){return d.raw("PUT",c(a,b,e,"/object"),{buckets:f},g)},d.deleteByQuery=function(a,b,e,f,g){return d.raw("PUT",c(a,b,e,"/object"),{buckets:f},g)},d.deleteById=function(a,b,e,f,g,h){return d.raw("GET",c(a,b,e,"/object/"+encodeURIComponent(f)),{buckets:g,limit:h})},d}]),a.constant("IkosValues",{BUCKET_SPLIT:",",BUCKET_BINARY_DIR:"/data/",SERVICE_DATA:"DATA_SERVICE",SERVICE_MANAGEMENT:"MANAGEMENT_DB",ACCESS_READ:"READ",ACCESS_WRITE:"WRITE",DATA_SEARCH_INDEX:"SEARCH_INDEX",DATA_STORAGE:"STORAGE",MANAGEMENT_BUCKET_STORE:"BUCKET_STORE",MANAGEMENT_BUCKET_STATUS:"BUCKET_STATUS",MANAGEMENT_SHARED_LIBRARY:"SHARED_LIBRARY",MANAGEMENT_BUCKET_DATA:"BUCKET_DATA"})}(angular.module("ng-ikos",[]));
//# sourceMappingURL=ng-ikos.map